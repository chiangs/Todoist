angular.module('todo').component('todoList', {
	templateUrl : 'app/todo/todoList/todoList.component.html',
	controller : function() {
		var vm = this;
		vm.todos = [
		      {
		        id : 1,
		        task : 'Go round mums',
		        description : '',
		        completed : false
		      },
		      {
		        id : 2,
		        task : 'Get Liz back',
		        description : '',
		        completed : false
		      },
		      {
		        id : 3,
		        task : 'Sort life out',
		        description : '',
		        completed :  false
		      }
		    ];
		
		vm.getNumIncomplete = function() {
			var counter = 0;
			for (var i = 0; i < vm.todos.length; i++) {
				if (vm.todos[i].completed == false) {
					counter++
				}
			}
			return counter;
		}
		
		vm.addToList = function(object) {
			var generateId = function() {
				  return vm.todos[vm.todos.length-1].id + 1;
				}
			var defCompleted = false;
			var deFdescription = '';
			object.id = generateId();
			object.completed = defCompleted;
			object.description = deFdescription;
			vm.todos.push(angular.copy(object));
			console.log(object);
		}
		
		vm.showTable = true;
		vm.selected = null;
		
		vm.displayTodo = function(todo) {
			console.log(todo);
			vm.showTable = false;
			vm.selected = todo;
		}
		
		vm.displayTable = function() {
			vm.showTable = true;
			vm.selected = null;
		}
		
		
	},
		controllerAs : 'vm'
})